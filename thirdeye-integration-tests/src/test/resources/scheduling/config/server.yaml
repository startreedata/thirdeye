######################################################
# ThirdEye Coordinator integration test config
######################################################

server:
  type: simple
  applicationContextPath: /
  adminContextPath: /admin

  connector:
    type: http
    port: 18080
    idleTimeout: 620s
#   SSL connector is disabled since APP Engine only allows exposing a single port.
#   A sample keystore and password is added so that this can be tested locally.
#   However, the settings currently don't work on GAE
#    - type: https
#      port: 8443
#      keyStorePath: conf/keystore.jks
#      keyStorePassword: password

logging:
  level: INFO
  loggers:
    ai.startree.thirdeye: DEBUG
    org.apache.zookeeper: WARN

auth:
  enabled: false

database:
  # Assuming a local MySQL server running on the default port 3306
  url: jdbc:mysql://localhost/thirdeye_test?autoReconnect=true&allowPublicKeyRetrieval=true&sslMode=DISABLED
  user: uthirdeye
  password: pass
  driver: com.mysql.cj.jdbc.Driver

swagger:
  # Enable/Disable the swagger resource. Helps in API documentation. Should be true by default
  enabled: true

  # package to scan for jersey resources
  resourcePackage: ai.startree.thirdeye.resources

# Start the Task Driver. This module runs the detection and notification tasks
taskDriver:
  enabled: true
  id: 0 # must be a non-negative integer unique per instance/worker
  noTaskDelay: 2
  randomDelayCap: 2

scheduler:
  # Run the Quartz Scheduler.
  # Only 1 instance of scheduler should run. This responsibility is currently on the user!!
  enabled: true

  detectionPipeline: true
  detectionAlert: true

  # Enable autoloading data sources with a default frequency of 5 min
  autoOnboard:
    enabled: false
    frequency: PT3m # 3 min

